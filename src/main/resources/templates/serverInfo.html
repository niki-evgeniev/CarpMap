<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Donate - CarpMap</title>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta name="keywords" content="website">
    <th:block th:replace="~{fragments/head}"></th:block>
    <style>
        .responsive-text {
            word-wrap: break-word;
            overflow-wrap: break-word;
        }
    </style>
</head>

<body>
<th:block th:replace="~{fragments/topbar}"></th:block>
<th:block th:replace="~{fragments/navbar}"></th:block>
<!-- Donate Start -->
<div class="container-fluid py-5"
     style="background: linear-gradient(rgba(19, 53, 123, 0.3), rgba(19, 53, 153, 0.3)); object-fit: cover;">
    <div class="container py-5 text-center">
        <div class="row justify-content-center donate">
            <div class="col-lg-6 ">
                <i class="fas fa-donate fa-2x text-primary"></i>
                <h1 class="display-4">Donate</h1>
                <h1>Информация за сървъра</h1>

                <h6>Състояние на сървъра</h6>
                <th:block th:text="${freeMemory}"></th:block>
                <br>
                <th:block th:text="${usedMemory}"></th:block>
                <br>
                <th:block th:text="${totalMemory}"></th:block>

                <h6>Метрики на сървъра</h6>
                <th:block th:text="${uptime}"></th:block>
                <br>
                <th:block th:text="${cpu}"></th:block>
                <br>
                <th:block th:text="${cpuLoad}"></th:block>
            </div>
        </div>
    </div>
</div>
<script>
    // Извличаме JSON информацията за сървъра чрез fetch()
    fetch('/admin/server-info')
        .then(response => response.json())
        .then(data => {
            // Показваме информацията в HTML
            document.getElementById('serverStatus').textContent = 'Status: ' + data.status;
            document.getElementById('serverMetrics').textContent = 'Uptime: ' + data.uptime + ', Active Users: ' + data.activeUsers;
        })
        .catch(error => console.error('Error fetching server info:', error));
</script>

<!-- Donate End -->
<!-- Footer Start -->
<th:block th:replace="~{fragments/footer}"></th:block>
<!-- Footer End -->
<!-- Back to Top -->
<a href="#" class="btn btn-primary btn-primary-outline-0 btn-md-square back-to-top"><i class="fa fa-arrow-up"></i></a>
<!-- JavaScript Libraries -->
<th:block th:replace="~{fragments/js}"></th:block>
</body>

</html>